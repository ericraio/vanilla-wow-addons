<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ C:\Projects\WoW\Bin\Interface\FrameXML\UI.xsd">
	<Script file="localization.lua"/>
	<Script file="Trigger.lua"/>
	<Script file="Timers.lua"/>

	<Frame name="Timers_EventHandler">
		<Scripts>
			<OnUpdate>
				Timers_OnUpdate(arg1);
			</OnUpdate>
			<OnEvent>
				Timers_OnEvent(event);
			</OnEvent>
			<OnLoad>
				Timers_OnLoad();
			</OnLoad>
		</Scripts>
	</Frame>
		
	<Button name="TextButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="22" y="22"/>
		</Size>
		<NormalText name="$parentText" inherits="GameFontHighlight">
			<Anchors>
				<Anchor point="CENTER">
					<Offset>
						<AbsDimension x="0" y="2"/>
					</Offset>
				</Anchor>
			</Anchors>
		</NormalText>
		<NormalTexture file="Interface\AddOns\Timers\Images\Blank" name="$parentTexture"/>
		<HighlightTexture file="Interface\Buttons\CheckButtonHilight" alphaMode="ADD"/>
	</Button>
		
	<Button name="SortButtonTemplate" virtual="true">
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentLeft" file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size>
						<AbsDimension x="5" y="16"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT"/>
					</Anchors>
					<TexCoords left="0" right="0.078125" top="0" bottom="0.59375"/>
				</Texture>
				<Texture name="$parentRight" file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size>
						<AbsDimension x="4" y="16"/>
					</Size>
					<Anchors>
						<Anchor point="TOPRIGHT"/>
					</Anchors>
					<TexCoords left="0.90625" right="0.96875" top="0" bottom="0.59375"/>
				</Texture>
				<Texture name="$parentMiddle" file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size>
						<AbsDimension x="10" y="16"/>
					</Size>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT"/>
						<Anchor point="RIGHT" relativeTo="$parentRight" relativePoint="LEFT"/>
					</Anchors>
					<TexCoords left="0.078125" right="0.90625" top="0" bottom="0.59375"/>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				this:RegisterForClicks("LeftButtonUp", "RightButtonUp");
			</OnLoad>
		</Scripts>
		<NormalText name="$parentText" inherits="GameFontHighlightSmall">
			<Anchors>
				<Anchor point="LEFT">
					<Offset>
						<AbsDimension x="8" y="0"/>
					</Offset>
				</Anchor>
			</Anchors>
		</NormalText>
		<NormalTexture name="$parentArrow" file="Interface\Buttons\UI-SortArrow">
			<Size>
				<AbsDimension x="9" y="8"/>
			</Size>
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentText" relativePoint="RIGHT">
					<Offset>
						<AbsDimension x="3" y="-2"/>
					</Offset>
				</Anchor>
			</Anchors>
			<TexCoords left="0" right="0.5625" top="0" bottom="1.0"/>
		</NormalTexture>
		<HighlightTexture file="Interface\PaperDollInfoFrame\UI-Character-Tab-Highlight" alphaMode="ADD">
			<Size>
				<AbsDimension x="5" y="24"/>
			</Size>
			<Anchors>
				<Anchor point="LEFT">
					<Offset>
						<AbsDimension x="0" y="0"/>
					</Offset>
				</Anchor>
				<Anchor point="RIGHT">
					<Offset>
						<AbsDimension x="4" y="0"/>
					</Offset>
				</Anchor>
			</Anchors>
		</HighlightTexture>
	</Button>
	
	<Button name="TimersTabButtonTemplate" virtual="true" alpha="0.8">
		<Size>
			<AbsDimension x="57" y="24"/>
		</Size>	   		
    <Layers>
      <Layer level="BACKGROUND">
        <Texture name="$parentLeftDisabled" file="Interface\PaperDollInfoFrame\UI-Character-ActiveTab">
        	<Size>
        		<AbsDimension x="20" y="24"/>
        	</Size>
        	<Anchors>
        		<Anchor point="TOPLEFT">
        			<Offset>
        				<AbsDimension x="0" y="5"/>
        			</Offset>
        		</Anchor>
        	</Anchors>
					<TexCoords left="0" right="0.15625" top="0" bottom="1.0"/>
        </Texture>
				<Texture name="$parentMiddleDisabled" file="Interface\PaperDollInfoFrame\UI-Character-ActiveTab">
        	<Size>
        		<AbsDimension x="35" y="24"/>
        	</Size>
        	<Anchors>
        		<Anchor point="LEFT" relativeTo="$parentLeftDisabled" relativePoint="RIGHT"/>
        	</Anchors>
					<TexCoords left="0.15625" right="0.84375" top="0" bottom="1.0"/>
        </Texture>
				<Texture name="$parentRightDisabled" file="Interface\PaperDollInfoFrame\UI-Character-ActiveTab">
        	<Size>
        		<AbsDimension x="20" y="24"/>
        	</Size>
        	<Anchors>
        		<Anchor point="LEFT" relativeTo="$parentMiddleDisabled" relativePoint="RIGHT"/>
        	</Anchors>
					<TexCoords left="0.84375" right="1.0" top="0" bottom="1.0"/>
        </Texture>
				<Texture name="$parentLeft" file="Interface\PaperDollInfoFrame\UI-Character-InActiveTab">
        	<Size>
        		<AbsDimension x="20" y="24"/>
        	</Size>
        	<Anchors>
        		<Anchor point="TOPLEFT"/>
        	</Anchors>
					<TexCoords left="0" right="0.15625" top="0" bottom="1.0"/>
        </Texture>
				<Texture name="$parentMiddle" file="Interface\PaperDollInfoFrame\UI-Character-InActiveTab">
        	<Size>
        		<AbsDimension x="35" y="24"/>
        	</Size>
        	<Anchors>
        		<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT"/>
        	</Anchors>
					<TexCoords left="0.15625" right="0.84375" top="0" bottom="1.0"/>
        </Texture>
				<Texture name="$parentRight" file="Interface\PaperDollInfoFrame\UI-Character-InActiveTab">
        	<Size>
        		<AbsDimension x="20" y="24"/>
        	</Size>
        	<Anchors>
        		<Anchor point="LEFT" relativeTo="$parentMiddle" relativePoint="RIGHT"/>
        	</Anchors>
					<TexCoords left="0.84375" right="1.0" top="0" bottom="1.0"/>
        </Texture>
      </Layer>
    </Layers>
		<Scripts>
			<OnLoad>
				this:SetFrameLevel(this:GetFrameLevel() + 4);
			</OnLoad>
			<OnShow>
				getglobal(this:GetName().."HighlightTexture"):SetWidth(this:GetTextWidth() + 30);
			</OnShow>
			<OnClick>
				Timers_TabControl(this);
			</OnClick>
		</Scripts>
		<NormalText name="$parentText" inherits="GameFontNormalSmall">
			<Anchors>
				<Anchor point="CENTER">
					<Offset>
						<AbsDimension x="8" y="4"/>
					</Offset>
				</Anchor>
			</Anchors>
		</NormalText>
		<HighlightText name="$parentHighlightText" inherits="GameFontHighlightSmall">
			<Anchors>
				<Anchor point="CENTER">
					<Offset>
						<AbsDimension x="8" y="4"/>
					</Offset>
				</Anchor>
			</Anchors>
		</HighlightText>
		<DisabledText name="$parentDisabledText" inherits="GameFontHighlightSmall">
			<Anchors>
				<Anchor point="CENTER">
					<Offset>
						<AbsDimension x="8" y="4"/>
					</Offset>
				</Anchor>
			</Anchors>
		</DisabledText>
		<HighlightTexture name="$parentHighlightTexture" file="Interface\PaperDollInfoFrame\UI-Character-Tab-Highlight" alphaMode="ADD">
			<Anchors>
				<Anchor point="LEFT">
					<Offset>
						<AbsDimension x="12" y="2"/>
					</Offset>
				</Anchor>
				<Anchor point="RIGHT">
					<Offset>
						<AbsDimension x="3" y="2"/>
					</Offset>
				</Anchor>
			</Anchors>
		</HighlightTexture>
  </Button>

	<EditBox name="TimersEditBoxTemplate" enableMouse="true" autoFocus="false" virtual="true">	
		<Scripts>
			<OnEscapePressed>
				this:ClearFocus();
			</OnEscapePressed>
			<OnEditFocusLost>
				this:HighlightText(0, 0);
			</OnEditFocusLost>
			<OnEditFocusGained>
				this:HighlightText();
			</OnEditFocusGained>
			<OnEnterPressed>
				this:ClearFocus();
			</OnEnterPressed>
		</Scripts>
		<FontString inherits="ChatFontNormal" bytes="100"/>
	</EditBox>

	<EditBox name="TimersEditBoxDropDownTemplate" enableMouse="true" autoFocus="false" virtual="true">
		<Frames>
			<Button name="$parentDropDownButton">
				<Size>
					<AbsDimension x="24" y="24"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT">
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						ToggleDropDownMenu(1, nil, getglobal(this:GetParent():GetName().."DropDownMenu"), this:GetParent(), -35, 0);
					</OnClick>
				</Scripts>
				<NormalTexture file="Interface\Buttons\UI-ScrollBar-ScrollDownButton-Up"/>
				<PushedTexture file="Interface\Buttons\UI-ScrollBar-ScrollDownButton-Down"/>
				<DisabledTexture file="Interface\Buttons\UI-ScrollBar-ScrollDownButton-Disabled"/>
			</Button>
			<Frame name="$parentDropDownMenu" inherits="UIDropDownMenuTemplate" id="1" hidden="true">
				<Scripts>
					<OnLoad>
						TimersDropDownTimerRowMenuEntry_Init();
					</OnLoad>
				</Scripts>
			</Frame>
		</Frames>	
		<Scripts>
			<OnEscapePressed>
				this:ClearFocus();
			</OnEscapePressed>
			<OnEditFocusLost>
				this:HighlightText(0, 0);
			</OnEditFocusLost>
			<OnEditFocusGained>
				this:HighlightText();
			</OnEditFocusGained>
			<OnEnterPressed>
				this:ClearFocus();
			</OnEnterPressed>
		</Scripts>
		<FontString inherits="ChatFontNormal" bytes="100"/>
	</EditBox>
	
	<Button name="TimersDropDownInputTemplate" virtual="true">
		<Frames>
			<Button name="$parentDropDownButton">
				<Size>
					<AbsDimension x="24" y="24"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT">
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						ToggleDropDownMenu(1, nil, getglobal(this:GetParent():GetName().."DropDownMenu"), this:GetParent(), -35, 0);
					</OnClick>
				</Scripts>
				<NormalTexture file="Interface\Buttons\UI-ScrollBar-ScrollDownButton-Up"/>
				<PushedTexture file="Interface\Buttons\UI-ScrollBar-ScrollDownButton-Down"/>
				<DisabledTexture file="Interface\Buttons\UI-ScrollBar-ScrollDownButton-Disabled"/>
			</Button>
			<Frame name="$parentDropDownMenu" inherits="UIDropDownMenuTemplate" id="1" hidden="true">
				<Scripts>
					<OnLoad>
						TimersDropDownTimerRowMenuEntry_Init();
					</OnLoad>
				</Scripts>
			</Frame>
		</Frames>
		<NormalText name="$parentText" inherits="GameFontNormalSmall">
			<Anchors>
				<Anchor point="CENTER">
					<Offset>
						<AbsDimension x="-5" y="0"/>
					</Offset>
				</Anchor>
			</Anchors>
		</NormalText>
	</Button>
	  
	<Button name="TimersRowTemplate" virtual="true">
		<Size>
			<AbsDimension x="250" y="20"/>
		</Size>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentLeft" file="Interface\AuctionFrame\UI-AuctionItemNameFrame">
					<Size>
						<AbsDimension x="10" y="19"/>
					</Size>
					<Anchors>
						<Anchor point="LEFT">
							<Offset>
								<AbsDimension x="1" y="2"/>
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0" right="0.078125" top="0" bottom="1.0"/>
				</Texture>
				<Texture name="$parentMiddle" file="Interface\AuctionFrame\UI-AuctionItemNameFrame">
					<Size>
						<AbsDimension x="280" y="19"/>
					</Size>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.078125" right="0.75" top="0" bottom="1.0"/>
				</Texture>
				<Texture name="$parentRight" file="Interface\AuctionFrame\UI-AuctionItemNameFrame">
					<Size>
						<AbsDimension x="10" y="19"/>
					</Size>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentMiddle" relativePoint="RIGHT">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.75" right="0.828125" top="0" bottom="1.0"/>
				</Texture>
				<FontString name="$parentGrpByPlaytimeTitle" inherits="GameFontHighlightSmall" text="TIMERS_LOC_BYPLAYTIME" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="-20" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Size>
						<AbsDimension x="75" y="20"/>
					</Size>
				</FontString>
				<FontString name="$parentGrpOnStartTitle" inherits="GameFontHighlightSmall" text="TIMERS_LOC_WHENSTARTING" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="80" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Size>
						<AbsDimension x="75" y="20"/>
					</Size>
				</FontString>	
				<FontString name="$parentGrpResetCntTitle" inherits="GameFontHighlightSmall" text="TIMERS_LOC_RESETCNT" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="180" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Size>
						<AbsDimension x="75" y="20"/>
					</Size>
				</FontString>
				<FontString name="$parentGrpDeleteTimerTitle" inherits="GameFontHighlightSmall" text="TIMERS_LOC_DELETEBYGROUP" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="280" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Size>
						<AbsDimension x="100" y="20"/>
					</Size>
				</FontString>	
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentMenuButton" inherits="TextButtonTemplate" text="!">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="0" y="2"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_TriggerMenuButton();
					</OnClick>
				</Scripts>
			</Button>	
			<Frame name="$parentDropDownMenu" inherits="UIDropDownMenuTemplate" id="1" hidden="true">
				<Scripts>
					<OnLoad>
						TimersDropDownTimerRowMenu_Init();
					</OnLoad>
				</Scripts>
			</Frame>
			<CheckButton name="$parentActive" inherits="UICheckButtonTemplate">
				<Size>
					<AbsDimension x="20" y="20"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentMenuButton" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_ToggleTriggerActive();
					</OnClick>
				</Scripts>
			</CheckButton>
			<EditBox name="$parentEditBox1" inherits="TimersEditBoxTemplate" >
				<Size>
					<AbsDimension x="160" y="18"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentMenuButton" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Scripts>
					<OnEditFocusGained>
						this:HighlightText();
						TimersEdit_EditName();
					</OnEditFocusGained>
					<OnEnterPressed>
						TimersEdit_SaveName();
						this:ClearFocus();
					</OnEnterPressed>	
				</Scripts>			
			</EditBox>
			<Button name="$parentDeleteButton" inherits="TextButtonTemplate" text="D">
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parentEditBox1" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="0" y="-2"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						TimersEdit_DeleteTimer(this);
					</OnClick>
				</Scripts>
			</Button>
			<CheckButton name="$parentGrpByPlaytime" inherits="UICheckButtonTemplate">
				<Size>
					<AbsDimension x="20" y="20"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentEditBox1" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_ToggleGrpByPlaytime();
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="$parentGrpResetCnt" inherits="UICheckButtonTemplate">
				<Size>
					<AbsDimension x="20" y="20"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="$parentGrpResetCntTitle" relativePoint="LEFT"/>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_ToggleGrpResetCnt();
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="$parentGrpDeleteTimer" inherits="UICheckButtonTemplate">
				<Size>
					<AbsDimension x="20" y="20"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="$parentGrpDeleteTimerTitle" relativePoint="LEFT"/>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_ToggleGrpDeleteTimer();
					</OnClick>
				</Scripts>
			</CheckButton>									
			<EditBox name="$parentEditBox2" inherits="TimersEditBoxTemplate" >
				<Size>
					<AbsDimension x="100" y="18"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentEditBox1" relativePoint="TOPRIGHT">
						<Offset>
							<AbsDimension x="20"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnEnterPressed>
						TimersEdit_SaveTime();
						this:ClearFocus();
					</OnEnterPressed>	
					<OnEditFocusGained>
						TimersEdit_EditTime();
						this:HighlightText();
					</OnEditFocusGained>
				</Scripts>	
			</EditBox>
			<EditBox name="$parentEditBox3" inherits="TimersEditBoxTemplate" >
				<Size>
					<AbsDimension x="40" y="18"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentEditBox2" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Scripts>
					<OnEnterPressed>
						TimersEdit_SavePrewarn();
						this:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<EditBox name="$parentEditBox4" inherits="TimersEditBoxDropDownTemplate" >
				<Size>
					<AbsDimension x="300" y="18"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentEditBox3" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Scripts>
					<OnEnterPressed>
						TimersEdit_SaveText();
						this:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<EditBox name="$parentEditBox5" inherits="TimersEditBoxTemplate" >
				<Size>
					<AbsDimension x="40" y="18"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentEditBox4" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Scripts>
					<OnEnterPressed>
						TimersEdit_SaveCount();
						this:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>		
		</Frames>
	</Button>
							
	<Frame name="TimersMainFrame" parent="UIParent" enableMouse="false" movable="true" hidden="false" frameStrata="LOW" alpha="0.8">
		<Backdrop name="$parentBackdrop" bgFile="Interface\Tooltips\UI-Tooltip-Background.blp" edgeFile="Interface\DialogFrame\UI-DialogBox-Border.blp" tile="true">
			<EdgeSize>
				<AbsValue val="16"/>
			</EdgeSize>
			<TileSize>
				<AbsValue val="100"/>
			</TileSize>
			<BackgroundInsets>
				<AbsInset left="5" right="5" top="5" bottom="5"/>
			</BackgroundInsets>
		</Backdrop>	
		<Size>
			<AbsDimension x="330" y="245"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="200" y="-200"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Scripts>
			<OnMouseDown>
				Timers_StartMoving(this);
			</OnMouseDown>
			<OnMouseUp>
				this:StopMovingOrSizing();
				configdata.mainframeposx = this:GetLeft();
				configdata.mainframeposy = this:GetTop();
			</OnMouseUp>
		</Scripts>
		<Layers>
			<Layer level="BACKGROUND">
				<FontString name="$parentTitle" inherits="GameFontHighlight" text="Timers" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="8" y="-5"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Size>
						<AbsDimension x="250" y="16"/>
					</Size>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentCloseButton" inherits="TextButtonTemplate" text="x">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
						<Offset>
							<AbsDimension x="-4" y="-3"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						HideUIPanel(this:GetParent());
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parentMinimizeButton" inherits="TextButtonTemplate" text="_">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="$parentCloseButton" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="3" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						TimersFrame_ToggleMinimized();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parentToggleNameBoxButton" inherits="TextButtonTemplate" text="T">
				<Anchors>
					<Anchor point="RIGHT" relativeTo="$parentMinimizeButton" relativePoint="LEFT">
						<Offset>
							<AbsDimension x="0" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_ToggleNamebox();
					</OnClick>
				</Scripts>
			</Button>	
			<Button name="$parentMenuButton" inherits="TextButtonTemplate" text="!">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="$parentCloseButton" relativePoint="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="0" y="4"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						ToggleDropDownMenu(1, nil, TimersMainFrameDropDownMenu, TimersMainFrameMenuButton, 0, 0);
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="$parentDropDownMenu" inherits="UIDropDownMenuTemplate" id="1" hidden="true">
				<Scripts>
					<OnLoad>
						TimersDropDownMainMenu_Init();
					</OnLoad>
				</Scripts>
			</Frame>
			<Button name="$parentSortButton1" inherits="SortButtonTemplate" text="TIMERS_LOC_NAME">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="6" y="-24"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_SetSort(1);
					</OnClick>
				</Scripts>
				<Size>
					<AbsDimension x="200" y="16"/>
				</Size>
			</Button>
			<Button name="$parentSortButton2" inherits="SortButtonTemplate" text="TIMERS_LOC_TIME">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentSortButton1" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_SetSort(2);
					</OnClick>
				</Scripts>
				<Size>
					<AbsDimension x="100" y="16"/>
				</Size>
			</Button>
			<Button name="$parentSortButton3" inherits="SortButtonTemplate" text="TIMERS_LOC_PREWARN">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentSortButton2" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_SetSort(3);
					</OnClick>
				</Scripts>
				<Size>
					<AbsDimension x="40" y="16"/>
				</Size>
			</Button>			
			<Button name="$parentSortButton4" inherits="SortButtonTemplate" text="TIMERS_LOC_TEXT">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentSortButton3" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_SetSort(4);
					</OnClick>
				</Scripts>
				<Size>
					<AbsDimension x="300" y="16"/>
				</Size>
			</Button>
			<Button name="$parentSortButton5" inherits="SortButtonTemplate" text="TIMERS_LOC_CNT">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentSortButton4" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Scripts>
					<OnClick>
						Timers_SetSort(7);
					</OnClick>
				</Scripts>
				<Size>
					<AbsDimension x="40" y="16"/>
				</Size>
			</Button>
			<ScrollFrame name="$parentScrollFrame" inherits="FauxScrollFrameTemplate">
				<Size>
					<AbsDimension x="295" y="198"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="5" y="-40"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnVerticalScroll>
						FauxScrollFrame_OnVerticalScroll(20, TimersMainFrame_OnScroll)
					</OnVerticalScroll>
				</Scripts>
			</ScrollFrame>
			<Button name="$parentTimerRow1" inherits="TimersRowTemplate" >
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentSortButton1" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Button>
			<Button name="$parentTimerRow2" inherits="TimersRowTemplate" >
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTimerRow1" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Button>
			<Button name="$parentTimerRow3" inherits="TimersRowTemplate" >
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTimerRow2" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Button>
			<Button name="$parentTimerRow4" inherits="TimersRowTemplate" >
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTimerRow3" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Button>
			<Button name="$parentTimerRow5" inherits="TimersRowTemplate" >
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTimerRow4" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Button>
			<Button name="$parentTimerRow6" inherits="TimersRowTemplate" >
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTimerRow5" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Button>
			<Button name="$parentTimerRow7" inherits="TimersRowTemplate" >
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTimerRow6" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Button>
			<Button name="$parentTimerRow8" inherits="TimersRowTemplate" >
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTimerRow7" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Button>
			<Button name="$parentTimerRow9" inherits="TimersRowTemplate" >
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTimerRow8" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Button>
			<Button name="$parentTimerRow10" inherits="TimersRowTemplate" >
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTimerRow9" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Button>
			<Button name="$parentTabButton1" inherits="TimersTabButtonTemplate" text="TIMERS_LOC_NORMAL">		
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="0" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
			<Button name="$parentTabButton2" inherits="TimersTabButtonTemplate" text="TIMERS_LOC_LIGHT">		
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTabButton1" relativePoint="TOPRIGHT"/>
				</Anchors>
			</Button>
			<Button name="$parentTabButton3" inherits="TimersTabButtonTemplate" text="TIMERS_LOC_TRIGGER">		
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTabButton2" relativePoint="TOPRIGHT"/>
				</Anchors>
			</Button>
			<Button name="$parentTabButton4" inherits="TimersTabButtonTemplate" text="TIMERS_LOC_CONFIG">		
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTabButton3" relativePoint="TOPRIGHT"/>
				</Anchors>
			</Button>
			<Button name="$parentTabButton5" inherits="TimersTabButtonTemplate" text="TIMERS_LOC_HELP">		
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentTabButton4" relativePoint="TOPRIGHT"/>
				</Anchors>
			</Button>
			<Frame name="$parentConfig" hidden="true">
				<Size>
					<AbsDimension x="295" y="198"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="5" y="-5"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<FontString name="$parentNameBarTitle" inherits="GameFontHighlightSmall" text="TIMERS_LOC_USE_NAMEBAR" justifyH="LEFT">
							<Size>
								<AbsDimension x="100" y="16"/>
							</Size>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset>
										<AbsDimension x="45" y="-30"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="$parentTitleTextTitle" inherits="GameFontHighlightSmall" text="TIMERS_LOC_TITLE_TEXT" justifyH="LEFT">
							<Size>
								<AbsDimension x="100" y="16"/>
							</Size>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset>
										<AbsDimension x="20" y="-60"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="$parentSpamOnPressTitle" inherits="GameFontHighlightSmall" text="TIMERS_LOC_SPAM_FIRST" justifyH="LEFT">
							<Size>
								<AbsDimension x="65" y="16"/>
							</Size>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset>
										<AbsDimension x="20" y="-90"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="$parentSpamOnPressTitle2" inherits="GameFontHighlightSmall" text="TIMERS_LOC_MINTIMERS" justifyH="LEFT">
							<Size>
								<AbsDimension x="90" y="16"/>
							</Size>
							<Anchors>
								<Anchor point="LEFT" relativeTo="$parentSpamOnPressTitle" relativePoint="RIGHT">
									<Offset>
										<AbsDimension x="30"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<EditBox name="$parentTitleText" inherits="TimersEditBoxTemplate" >
						<Size>
							<AbsDimension x="200" y="18"/>
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentTitleTextTitle" relativePoint="RIGHT"/>
						</Anchors>
						<Scripts>
							<OnShow>
								this:SetText(configdata.titletext);
							</OnShow>
							<OnEnterPressed>
								configdata.titletext = this:GetText();
								this:ClearFocus();
							</OnEnterPressed>
						</Scripts>
					</EditBox>
					<CheckButton name="$parentNameBar" inherits="UICheckButtonTemplate">
						<Size>
							<AbsDimension x="20" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-30"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnShow>
								this:SetChecked(configdata.usenamebar);
							</OnShow>
							<OnClick>
								TimersConfig_ToggleNameBar();
							</OnClick>
						</Scripts>
					</CheckButton>
					<EditBox name="$parentSpamOnPress" inherits="TimersEditBoxTemplate" >
						<Size>
							<AbsDimension x="30" y="18"/>
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativeTo="$parentSpamOnPressTitle" relativePoint="RIGHT"/>
						</Anchors>
						<Scripts>
							<OnShow>
								this:SetText(configdata.spamonpress);
							</OnShow>
							<OnEnterPressed>
								configdata.spamonpress = this:GetText();
								this:ClearFocus();
							</OnEnterPressed>
						</Scripts>
					</EditBox> 	
					<Slider name="$parentSizeSlider" inherits="OptionsSliderTemplate">
						<Size>
							<AbsDimension x="280" y="16"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-160"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								getglobal(this:GetName().."Text"):SetText("Timer Names Size");
								getglobal(this:GetName().."High"):SetText("400");
								getglobal(this:GetName().."Low"):SetText("200");
								this:SetMinMaxValues(200.0,400.0);
								this:SetValueStep(10);
							</OnLoad>
							<OnShow>
								this:SetValue(configdata.namessize);
							</OnShow>
							<OnValueChanged>
								configdata.namessize = this:GetValue();
							</OnValueChanged>
						</Scripts>
					</Slider>
					<Slider name="$parentScaleSlider" inherits="OptionsSliderTemplate">
						<Size>
							<AbsDimension x="280" y="16"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-200"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								getglobal(this:GetName().."Text"):SetText("Timers Frames Scale");
								getglobal(this:GetName().."High"):SetText("1.5");
								getglobal(this:GetName().."Low"):SetText("0.5");
								this:SetMinMaxValues(25,200);
								this:SetValueStep(8);
							</OnLoad>
							<OnShow>
								this:SetValue(configdata.framescale);
							</OnShow>
							<OnMouseUp>
								configdata.framescale = this:GetValue();
							</OnMouseUp>
						</Scripts>
					</Slider>
					<Button name="$parentReset" inherits="UIPanelButtonTemplate2" text="TIMERS_LOC_RESET">
						<Size>
							<AbsDimension x="100" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
								<Offset>
									<AbsDimension y="-30"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								TimersConfig_Reset();
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Frame>
			<Frame name="$parentHelp" hidden="true">
				<Size>
					<AbsDimension x="295" y="198"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="5" y="-5"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Frames>
					<Button name="$parentHelp1" inherits="UIPanelButtonTemplate2" text="TIMERS_LOC_HELP1">
						<Size>
							<AbsDimension x="300" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="10" y="-30"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								Timers_ShowHelp(1);
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentHelp2" inherits="UIPanelButtonTemplate2" text="TIMERS_LOC_HELP2">
						<Size>
							<AbsDimension x="300" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="10" y="-60"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								Timers_ShowHelp(2);
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentHelp3" inherits="UIPanelButtonTemplate2" text="TIMERS_LOC_HELP3">
						<Size>
							<AbsDimension x="300" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="10" y="-90"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								Timers_ShowHelp(3);
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentHelp4" inherits="UIPanelButtonTemplate2" text="TIMERS_LOC_HELP4">
						<Size>
							<AbsDimension x="300" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="10" y="-120"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								Timers_ShowHelp(4);
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentHelp5" inherits="UIPanelButtonTemplate2" text="TIMERS_LOC_HELP5">
						<Size>
							<AbsDimension x="300" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="10" y="-150"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								Timers_ShowHelp(5);
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentHelp6" inherits="UIPanelButtonTemplate2" text="TIMERS_LOC_HELP6">
						<Size>
							<AbsDimension x="300" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="10" y="-180"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								Timers_ShowHelp(6);
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentHelp7" inherits="UIPanelButtonTemplate2" text="TIMERS_LOC_HELP7">
						<Size>
							<AbsDimension x="300" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="10" y="-210"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								Timers_ShowHelp(7);
							</OnClick>
						</Scripts>
					</Button>		
				</Frames>
			</Frame>
			<Frame name="$parentTextFrame">
				<Size>
					<AbsDimension x="290" y="215"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="5" y="-25"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Frames>
					<ScrollFrame name="$parentOutputFrame" inherits="UIPanelScrollFrameTemplate">
						<Size>
							<AbsDimension x="285" y="190"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="10"/>
								</Offset>
							</Anchor>
						</Anchors>
						<ScrollChild>
							<Frame name="$parentScrollChildFrame">
								<Size>
									<AbsDimension x="275" y="200"/>
								</Size>
								<Layers>
									<Layer level="BACKGROUND">
										<FontString name="TimersMainFrameHelpFrameText" inherits="GameFontHighlight" wraponspaces="true" alignment="LEFT" justifyH="LEFT">
											<Anchors>
												<Anchor point="TOPLEFT">
													<Offset>
														<AbsDimension x="5" y="-10"/>
													</Offset>
												</Anchor>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
					<Button name="$parentBack" inherits="UIPanelButtonTemplate2" text="TIMERS_LOC_BACK">
						<Size>
							<AbsDimension x="100" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parent" relativePoint="BOTTOMRIGHT">
								<Offset>
									<AbsDimension y="5"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								Timers_TabContentControl();
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Frame>
		</Frames>
	</Frame>
	
	<Frame name="TimersNameBar" parent="UIParent" enableMouse="false" movable="true" hidden="false" frameStrata="LOW">
		<Backdrop name="$parentBackdrop" bgFile="Interface\Tooltips\UI-Tooltip-Background.blp" edgeFile="Interface\DialogFrame\UI-DialogBox-Border.blp">
			<EdgeSize>
				<AbsValue val="16"/>
			</EdgeSize>
			<TileSize>
				<AbsValue val="16"/>
			</TileSize>
			<BackgroundInsets>
				<AbsInset left="5" right="5" top="5" bottom="5"/>
			</BackgroundInsets>
		</Backdrop>	
		<Size>
			<AbsDimension x="207" y="30"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT" >
				<Offset>
					<AbsDimension x="400" y="-400"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Scripts>
			<OnLoad>
				this:SetBackdropColor(0.0, 0.0, 0.0, 0.8);
			</OnLoad>
			<OnMouseDown>
				this:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				this:StopMovingOrSizing();
				configdata.namebarposx = this:GetLeft()*(configdata.framescale/100);
				configdata.namebarposy = this:GetTop()*(configdata.framescale/100);
			</OnMouseUp>
		</Scripts>
		<Layers>
			<Layer level="BACKGROUND">
				<FontString name="$parentTitle" inherits="GameTooltipText" text="Name:" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="8" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
					<Size>
						<AbsDimension x="60" y="16"/>
					</Size>
				</FontString>
			</Layer>
		</Layers>
	<Frames>
	  <EditBox name="$parentNameBox" autoFocus="false" inherits="InputBoxTemplate">
			<Size>
				<AbsDimension x="150" y="14"/>
			</Size>
			<Anchors>
				<Anchor point="RIGHT" relativeTo="TimersNameBar" relativePoint="RIGHT">
					<Offset>
						<AbsDimension x="0" y="0"/>
					</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnShow>
					this:SetText(configdata.namebartext);
				</OnShow>
				<OnEnterPressed>
					configdata.namebartext = this:GetText();
					this:ClearFocus();
				</OnEnterPressed>
			</Scripts>
			<FontString inherits="ChatFontNormal" bytes="50"/>
		</EditBox>		
	</Frames>
</Frame>	

<Frame name="TimersMinimizedFrame" parent="UIParent" enableMouse="false" movable="true" hidden="true" frameStrata="LOW">
	<Backdrop name="$parentBackdrop" bgFile="Interface\Tooltips\UI-Tooltip-Background.blp" edgeFile="Interface\DialogFrame\UI-DialogBox-Border.blp">
		<EdgeSize>
			<AbsValue val="16"/>
		</EdgeSize>
		<TileSize>
			<AbsValue val="16"/>
		</TileSize>
		<BackgroundInsets>
			<AbsInset left="5" right="5" top="5" bottom="5"/>
		</BackgroundInsets>
	</Backdrop>	
	<Size>
		<AbsDimension x="207" y="30"/>
	</Size>
	<Anchors>
		<Anchor point="TOPLEFT" >
			<Offset>
				<AbsDimension x="200" y="-400"/>
			</Offset>
		</Anchor>
	</Anchors>
	<Scripts>
		<OnLoad>
			this:SetBackdropColor(0.0, 0.0, 0.0, 0.8);
		</OnLoad>
		<OnMouseDown>
			this:StartMoving();
		</OnMouseDown>
		<OnMouseUp>
			this:StopMovingOrSizing();
			configdata.minimizeposx = this:GetLeft()*(configdata.framescale/100);
			configdata.minimizeposy = this:GetTop()*(configdata.framescale/100);
		</OnMouseUp>
		<OnUpdate>
			Timers_UpdateTitle();
		</OnUpdate>
	</Scripts>
	<Layers>
		<Layer level="BACKGROUND">
			<FontString name="$parentTitle" inherits="GameTooltipText" text="Timers " justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="8" y="-7"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="150" y="16"/>
				</Size>
			</FontString>
		</Layer>
	</Layers>
	<Frames>
		<Button name="$parentCloseButton" inherits="TextButtonTemplate" text="x">
			<Anchors>
				<Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
					<Offset>
						<AbsDimension x="-4" y="-3"/>
					</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnClick>
					HideUIPanel(this:GetParent());
				</OnClick>
			</Scripts>
		</Button>
		<Button name="$parentMinimizeButton" inherits="TextButtonTemplate" text="_">
			<Anchors>
				<Anchor point="TOPRIGHT" relativeTo="$parentCloseButton" relativePoint="TOPLEFT">
					<Offset>
						<AbsDimension x="3" y="0"/>
					</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnClick>
					TimersFrame_ToggleMinimized();
				</OnClick>
			</Scripts>
		</Button>
	</Frames>
</Frame>	

<Frame name="TimersTriggersConfigFrame" parent="UIParent" enableMouse="false" movable="true" hidden="true" frameStrata="LOW">
	<Backdrop name="$parentBackdrop" bgFile="Interface\Tooltips\UI-Tooltip-Background.blp" edgeFile="Interface\DialogFrame\UI-DialogBox-Border.blp">
		<EdgeSize>
			<AbsValue val="16"/>
		</EdgeSize>
		<TileSize>
			<AbsValue val="16"/>
		</TileSize>
		<BackgroundInsets>
			<AbsInset left="5" right="5" top="5" bottom="5"/>
		</BackgroundInsets>
	</Backdrop>	
	<Size>
		<AbsDimension x="400" y="360"/>
	</Size>
	<Anchors>
		<Anchor point="TOPLEFT" >
			<Offset>
				<AbsDimension x="300" y="-400"/>
			</Offset>
		</Anchor>
	</Anchors>
	<Scripts>
		<OnLoad>
			this:SetBackdropColor(0.0, 0.0, 0.0, 0.8);
		</OnLoad>
		<OnMouseDown>
			this:StartMoving();
		</OnMouseDown>
		<OnMouseUp>
			this:StopMovingOrSizing();
			configdata.triggerconfposx = this:GetLeft()*(configdata.framescale/100);
			configdata.triggerconfposy = this:GetTop()*(configdata.framescale/100);
		</OnMouseUp>
	</Scripts>
	<Layers>
		<Layer level="BACKGROUND">
			<FontString name="$parentTitle" inherits="GameTooltipText" text="TIMERS_LOC_ADVANCED_TRIGGERS" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="8" y="-7"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="300" y="16"/>
				</Size>
			</FontString>
			<FontString name="$parentNameTitle" inherits="GameTooltipText" text="TIMERS_LOC_NAME" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-30"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="50" y="16"/>
				</Size>
			</FontString>			
			<FontString name="$parentTimeTitle" inherits="GameTooltipText" text="TIMERS_LOC_TIME" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="210" y="-30"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="50" y="16"/>
				</Size>
			</FontString>
			<FontString name="$parentTextTitle" inherits="GameTooltipText" text="TIMERS_LOC_TEXT" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-50"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="50" y="16"/>
				</Size>
			</FontString>
			<FontString name="$parentTypeTitle" inherits="GameTooltipText" text="TIMERS_LOC_TYPE" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-80"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="50" y="16"/>
				</Size>
			</FontString>
			<FontString name="$parentModeTitle" inherits="GameTooltipText" text="TIMERS_LOC_MODE" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="210" y="-80"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="50" y="16"/>
				</Size>
			</FontString>
			<FontString name="$parentWarnTitle" inherits="GameTooltipText" text="TIMERS_LOC_WARNING" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-130"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="75" y="16"/>
				</Size>
			</FontString>	
			<FontString name="$parentWarnChanTitle" inherits="GameTooltipText" text="TIMERS_LOC_CHANNEL" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-160"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="75" y="16"/>
				</Size>
			</FontString>	
			<FontString name="$parentWarnTimeTitle" inherits="GameTooltipText" text="TIMERS_LOC_TIME" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="210" y="-160"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="50" y="16"/>
				</Size>
			</FontString>			
			<FontString name="$parentWarnMessTitle" inherits="GameTooltipText" text="TIMERS_LOC_MESSAGE" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-180"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="75" y="16"/>
				</Size>
			</FontString>	
			<FontString name="$parentExpireTitle" inherits="GameTooltipText" text="TIMERS_LOC_EXPIRE" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-220"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="75" y="16"/>
				</Size>
			</FontString>	
			<FontString name="$parentExpChanTitle" inherits="GameTooltipText" text="TIMERS_LOC_CHANNEL" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-250"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="75" y="16"/>
				</Size>
			</FontString>			
			<FontString name="$parentExpMessTitle" inherits="GameTooltipText" text="TIMERS_LOC_MESSAGE" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-270"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="75" y="16"/>
				</Size>
			</FontString>
			<FontString name="$parentThresholdTitle" inherits="GameTooltipText" text="TIMERS_LOC_THRESHOLD" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-320"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="75" y="16"/>
				</Size>
			</FontString>	
			<FontString name="$parentCountTitle" inherits="GameTooltipText" text="TIMERS_LOC_COUNT" justifyH="LEFT">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="210" y="-320"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Size>
					<AbsDimension x="50" y="16"/>
				</Size>
			</FontString>										
		</Layer>
	</Layers>
	<Frames>
		<Button name="$parentCloseButton" inherits="TextButtonTemplate" text="x">
			<Anchors>
				<Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
					<Offset>
						<AbsDimension x="-4" y="-3"/>
					</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnClick>
					HideUIPanel(this:GetParent());
				</OnClick>
			</Scripts>
		</Button>
		<EditBox name="$parentNameInput" inherits="TimersEditBoxTemplate">
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentNameTitle" relativePoint="RIGHT"/>
			</Anchors>
			<Size>
				<AbsDimension x="130" y="16"/>
			</Size>
			<Scripts>
				<OnEditFocusGained>
					this:HighlightText();
					TimersEdit_EditNameAdv();
				</OnEditFocusGained>
				<OnEnterPressed>
					TimersEdit_SaveName();
					this:ClearFocus();
				</OnEnterPressed>
			</Scripts>
		</EditBox>
		<EditBox name="$parentTimeInput" inherits="TimersEditBoxTemplate">
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentTimeTitle" relativePoint="RIGHT"/>
			</Anchors>
			<Size>
				<AbsDimension x="130" y="16"/>
			</Size>
			<Scripts>
				<OnEnterPressed>
					TimersEdit_SaveTime();
					this:ClearFocus();
				</OnEnterPressed>
			</Scripts>
		</EditBox>	
		<EditBox name="$parentTextBox" inherits="TimersEditBoxDropDownTemplate" >
			<Size>
				<AbsDimension x="300" y="18"/>
			</Size>
			<Anchors>
				<Anchor point="TOPLEFT" relativeTo="$parentTextTitle" relativePoint="TOPRIGHT"/>
			</Anchors>
			<Scripts>
				<OnEnterPressed>
					TimersEdit_SaveText();
					Timers_SetTriggerData();
					this:ClearFocus();
				</OnEnterPressed>
			</Scripts>
		</EditBox>
		<Button name="$parentTypeBox" inherits="TimersDropDownInputTemplate">
			<Size>
				<AbsDimension x="75" y="18"/>
			</Size>
			<Anchors>
				<Anchor point="TOPLEFT" relativeTo="$parentTypeTitle" relativePoint="TOPRIGHT"/>
			</Anchors>
		</Button>
		<Button name="$parentModeBox" inherits="TimersDropDownInputTemplate">
			<Size>
				<AbsDimension x="75" y="18"/>
			</Size>
			<Anchors>
				<Anchor point="TOPLEFT" relativeTo="$parentModeTitle" relativePoint="TOPRIGHT"/>
			</Anchors>
		</Button>	
		<Button name="$parentWarnChanBox" inherits="TimersDropDownInputTemplate">
			<Size>
				<AbsDimension x="75" y="18"/>
			</Size>
			<Anchors>
				<Anchor point="TOPLEFT" relativeTo="$parentWarnChanTitle" relativePoint="TOPRIGHT"/>
			</Anchors>
		</Button>	
		<EditBox name="$parentWarnTimeInput" inherits="TimersEditBoxTemplate">
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentWarnTimeTitle" relativePoint="RIGHT"/>
			</Anchors>
			<Size>
				<AbsDimension x="130" y="16"/>
			</Size>
			<Scripts>
				<OnEnterPressed>
					TimersEdit_SavePrewarn();
					this:ClearFocus();
				</OnEnterPressed>
			</Scripts>
		</EditBox>
		<EditBox name="$parentWarnMessInput" inherits="TimersEditBoxTemplate">
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentWarnMessTitle" relativePoint="RIGHT"/>
			</Anchors>
			<Size>
				<AbsDimension x="300" y="16"/>
			</Size>
			<Scripts>
				<OnEnterPressed>
					TimersEdit_SaveMessage();
					this:ClearFocus();
				</OnEnterPressed>
			</Scripts>
		</EditBox>
		<Button name="$parentExpChanBox" inherits="TimersDropDownInputTemplate">
			<Size>
				<AbsDimension x="75" y="18"/>
			</Size>
			<Anchors>
				<Anchor point="TOPLEFT" relativeTo="$parentExpChanTitle" relativePoint="TOPRIGHT"/>
			</Anchors>
		</Button>	
		<EditBox name="$parentExpMessInput" inherits="TimersEditBoxTemplate">
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentExpMessTitle" relativePoint="RIGHT"/>
			</Anchors>
			<Size>
				<AbsDimension x="300" y="16"/>
			</Size>
			<Scripts>
				<OnEnterPressed>
					TimersEdit_SaveMessage();
					this:ClearFocus();
				</OnEnterPressed>
			</Scripts>
		</EditBox>
		<EditBox name="$parentThresholdInput" inherits="TimersEditBoxTemplate">
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentThresholdTitle" relativePoint="RIGHT"/>
			</Anchors>
			<Size>
				<AbsDimension x="130" y="16"/>
			</Size>
			<Scripts>
				<OnEnterPressed>
					TimersEdit_SaveThreshold();
					this:ClearFocus();
				</OnEnterPressed>
			</Scripts>
		</EditBox>	
		<EditBox name="$parentCountInput" inherits="TimersEditBoxTemplate">
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentCountTitle" relativePoint="RIGHT"/>
			</Anchors>
			<Size>
				<AbsDimension x="130" y="16"/>
			</Size>
			<Scripts>
				<OnEnterPressed>
					TimersEdit_SaveCount();
					this:ClearFocus();
				</OnEnterPressed>
			</Scripts>
		</EditBox>						
	</Frames>
</Frame>
	
</Ui>